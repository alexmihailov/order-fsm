# Статусы заказа:
- Создан новый заказ (NEW);
- Заказ принят в обработку (ORDERED);
- Товар в заказе зарезервирован (RESERVED);
- Заказ оплачен (PAYED);
- Заказ отправлен в пункт выдачи (SHIPPED);
- Заказ прибыл в пункт выдачи (DELIVERED);
- Заказ получен (COMPLETED);
- Отмена заказа (CANCELED);

# Словесное описание работы системы:
- Пользователь формирует заказ (накидывает товары в корзину) и затем нажимает на кнопку “Создать заказ”.
В этот момент на сервере происходит создание нового заказа – создаем заказ со статусом NEW.

- После создания нового заказа, пользователь выбирает пункт доставки и подтверждает дальнейшую обработку заказа – заказ переходит в статус ORDERED.
В этом статусе пользователь может отменить заказ – заказ перейдет в статус CANCELED.

- После принятия заказа в обработку нужно проверить, имеется ли нужные товары на складах и зарезервировать их.
Если необходимых товаров нет на складах или мы получаем ошибку при резервировании товара, то заказ переходит в статус CANCELED.
Если товары были зарезервированы на складах, то заказ переходит в статус RESERVED.
В этом статусе пользователь может отменить заказ – заказ перейдет в статус CANCELED.
Если пользователь в этом статуе отменяет заказ, то нужно снять резервацию товаров на складах.

- Если пользователь не осуществил оплату в течении N времени, то нужно перевести заказ в статус CANCELED и снять резервацию товаров на складах.
После оплаты пользователем заказа нужно перевести заказ в статус PAYED. После этого нужно отправить данные по заказу в систему доставки.

- В случае успешного запроса в систему доставки нужно перевести заказ в статус SHIPPED.
Если получена ошибка при отправке заказа в службу доставки, то нужно повторить запрос N раз через M промежутки времени.
Если и в этом случаем получаем ошибку, то направить уведомление администратору.

- Когда система доставки оповещает нашу систему, что заказ прибыл в службу доставки, то нужно перевести заказ в статус DELIVERED.
При этом нужно отправить пользователю на email оповещение, что заказ готов к выдаче.

- Если на этапе вручения в пункте выдачи пользователь отказался от заказа, то перевести заказ в статус CANCELED и инициировать процедуру возврата средств за заказ. Иначе перевести заказ в статус COMPLETED.
